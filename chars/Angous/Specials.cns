;6S: BrawlerRush A
;---------------------------------------------------------------------------
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1000 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1000 ;Animation of this state
value = 1000
elem = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 210, (0+(Random%7))
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1006
ID = 1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0


[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)=0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 50 < 10, 10, fvar(11) * 50)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 22
air.hittime  = ceil(cond(fvar(15) *136 < 30, 30, fvar(15) * 136))
down.hittime = 136
ground.velocity = -3
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)>0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 50 < 5, 5, fvar(11) * 50)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 15,15
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 22
air.hittime  = ceil(cond(fvar(15) *136 < 30, 30, fvar(15) * 136))
down.hittime = 136
ground.velocity = -3
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b" 
trigger2 = command = "holdfwd" && command = "b"  && time> 24
value = 1001
ctrl = 0

;---------------------------------------------------------------------------
;6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1001 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1001 ;Animation of this state
value = 1001
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1001,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 1
removeongethit = 0
ignorehitpause=  0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, Regular Hit]
type = hitdef 
p2facing = 1
triggerall=map(hdc)=0
trigger1 = time = 0
trigger1 = fvar(8) = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 50 < 10, 10, fvar(11) * 50)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 26
air.hittime  = ceil(cond(fvar(15) *106 < 30, 30, fvar(15) * 106))
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 24
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 410, Regular Hit]
type = hitdef 
p2facing = 1
triggerall=map(hdc)>0
trigger1 = time = 0
trigger1 = fvar(8) = 0
attr = S, SA
air.hittime  = ceil(cond(fvar(15) *106 < 30, 30, fvar(15) * 106))
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 26
air.hittime  = 106
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 24
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 410, Counter Hit]
type = hitdef 
p2facing = 1
trigger1 = fvar(8)
attr = S, SA
damage = ceil(cond(fvar(11) * 50 < 10, 10, fvar(11) * 50)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 30
air.hittime  = 1000000000
forcenofall = 1
ground.velocity = -1.2, -8
air.velocity = -2,-6
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 18
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
value = 1002
ctrl = 0

;---------------------------------------------------------------------------
;6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 10011]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = .6

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1001 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1001 ;Animation of this state
value = 1001
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1001,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 1
removeongethit = 0
ignorehitpause=  0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 100 < 10, 10, fvar(11) * 100)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 27
air.hittime  = 106
forcenofall = 1
ground.velocity = -4
air.velocity = -1.5,-4
yaccel = .27
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 18
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
value = 1002
ctrl = 0


;---------------------------------------------------------------------------
;6S Charge
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;anim = 1002
sprpriority = 2


[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 50
x = 0

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1011

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1002 ;State of this attack

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256

[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
;triggerall = (AnimElemTime (3) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,NP,SP,SA
slot = 0
stateno = 666999 
time = 1
forceair = 0

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time = 40
;time = 30
;add = 150,100,0
;mul = 256,256,256
;sinadd = 150,100,0,30
;invertall = 0
;color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2

[State 0, VarAdd]
type = MapSet
trigger1 = time=0
trigger1 = prevstateno != 666999
map = "scharge"
value = 0
ignorehitpause = 1

[State 0, VarAdd]
type = MapAdd
trigger1 = 1
map = "scharge"
value = 1
ignorehitpause = 1

[State 12, ChangeState]
type = ChangeState
triggerall=command!= "hold_b"
trigger1 = map(scharge)>12
trigger2 = prevstateno = 666999
value = 1003

[State 13, ChangeState]
type = changestate
triggerall=command= "hold_b"
trigger1 = map(scharge) > 60
trigger2 = map(scharge) > 60 && prevstateno = 666999
value = 10033
;---------------------------------------------------------------------------
;6S Charge
[Statedef 10022]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;anim = 1002
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 50
x = 0

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1011

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1002 ;State of this attack

[State 0, HitOverride]
type = HitOverride
;triggerall = (AnimElemTime (3) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,NP,SP,SA
slot = 0
stateno = 666999 
time = 1
forceair = 0

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time = 40
;time = 30
;add = 150,100,0
;mul = 256,256,256
;sinadd = 150,100,0,30
;invertall = 0
;color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2

;[State 0, ChangeState]
;type = ChangeState
;trigger1 = time>60 || (command!="hold_b" && time>12)
;value =1003
;ctrl = 0

;[State 0, ChangeState]
;type = ChangeState
;triggerall = var(55)<10
;trigger1 = prevstateno = 666999 && command!= "hold_b"
;trigger2 = command!= "hold_c"
;value = 501

;[State 0, ChangeState]
;type = ChangeState
;triggerall = var(55)=[11,60]
;trigger1 = command != "hold_c" 
;trigger2 = prevstateno = 666999 && command!= "hold_b"
;value = 502


[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command !="hold_b"
trigger2 = prevstateno = 666999 && command!= "hold_b"
value = 1103

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b"
value = 11033

;---------------------------------------------------------------------------
;6S: BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1003 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1003 ;Animation of this state
value = 1003
elem = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)=0
trigger1 = time = 0
trigger1 = !fvar(8)
attr = S, SA
damage =ceil(cond(fvar(11) * 100+var(10)*0.5888 < 75, 75, fvar(11) * 100+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 30
envshake.freq = 110
envshake.ampl = 6
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)>0
trigger1 = time = 0
trigger1 = !fvar(8)
attr = S, SA
damage =ceil(cond(fvar(11) * 100+var(10)*0.5888 < 37, 37, fvar(11) * 100+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 28,28
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 30
envshake.freq = 110
envshake.ampl = 6
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))



[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 10033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd=0
ctrl = 0
sprpriority = 2
facep2 = 1
anim=1003
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1003 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 0]
type = MapSet
trigger1 = (AnimElemTime (4) < 0)
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = (AnimElemTime (4) < 0)
attr = SCA ,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 24

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 124+var(10)*0.5999 < 15, 15, fvar(11) * 124+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= (100)*(cond(var(var(2)) = 1, 1, .5))
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1003 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1003 ;Animation of this state
value = 1003
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = !time
trigger1 = !fvar(8)
attr = S, SA
damage = ceil(cond(fvar(11) * 165+var(10)*0.5888 < 10, 10, fvar(11) * 165+var(10)*0.5888)),17+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 12,12
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))



[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 11033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= (100)*(cond(var(var(2)) = 1, 1, .5))
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1003 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1003 ;Animation of this state
value = 1003
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA ,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 10

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 24

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 164+var(10)*0.5999 < 50, 50, fvar(11) * 164+var(10)*0.5999)),17+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1
;------------------------------------------------------------------------
;4S: Command Grab
[Statedef 10400]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time <=24
value = ,NT
time = 1

[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

;PosAdds for animation (Way too exaggerated at the moment)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
trigger2 = animelem = 8
trigger3 = animelem = 11
x = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 15
trigger4 = animelem = 17
x = 9

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
trigger2 = animelem = 13
trigger3 = animelem = 14
x = 11

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
x = 13

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 15
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 18
x = 3

;Snipe em
[State 630, 2]
type = HitDef 
p2facing = 1 
triggerall = P2Stateno != [120,156]
trigger1 = animelem = 9
trigger1 = !numtarget
hitonce = 1
attr = S, ST
damage = 0, 0
hitflag = M-
guardflag = 
pausetime = 0,0
sparkno = 1000
sparkxy = P2BodyDist X + -58, -34 ;P2BodyDist X, so the hitspark is relative to P1
hitsound   = S6,0
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = 23
ground.velocity = 2,-3
fall.xvelocity = -1
fall.yvelocity = -8
air.velocity = 2,-3
air.hittime = 24
fall = 1
p1stateno = 10410
p2stateno = 10412

;Immersion
[State 0, Explod] ;Step particle
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 15
anim = 6700
ID = 6700
pos = -22,0
postype = p1
scale = 0.3,0.3
ontop = 1

[State 200, Angous Voice] ;Tah!
type = PlaySnd
trigger1 = animelem = 7
value = 200, (0+(Random%5))
volumescale=200

[State 0, PlaySnd] ;Whoosh noise
type = PlaySnd
trigger1 = animelem = 7
value = S0, (1 + random%4)

[State 0, PlaySnd] ;Heavy step during whiff animation
type = PlaySnd
trigger1 = animelem = 15
trigger2 = animelem = 19
value = S6,0

[State 0, EnvShake] ;I wonder
type = EnvShake
trigger1 = animelem = 15
trigger2 = animelem = 19
time = 4
freq = 60
ampl = 3

[State 0, ChangeState] ;On hit
type = ChangeState
trigger1 = movehit = 1
value = 10410
ctrl = 0

[State 0, ChangeState] ;Not on hit
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1



;------------------------------------------------------------------------
;4S: Command Grab Yeet
[Statedef 10410]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10410
sprpriority = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem=28
statetype = S       ;S,A,C,L
movetype =A        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause =1

[State 0, VarSet]
type = mapSet
trigger1 = time=0
map="grab"    ;fv = 10
value = 0
ignorehitpause = 0
[State 0, VarSet]
type = mapSet
trigger1 = time=94
map="grab"    ;fv = 10
value = 1
ignorehitpause = 0

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 32   ;fv = 10
value = 1
persistent = 0


;Animation magic
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 9999
id = -1
pos = 58, -34
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
time = 9999
id = -1
pos = 48, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 9999
id = -1
pos = 28, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 9999
id = -1
pos = 9, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5
time = 9999
id = -1
pos = 0, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 9
time = 9999
id = -1
pos = 11, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 10
time = 9999
id = -1
pos = 2, -45
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 11
time = 9999
id = -1
pos = 2, -50

[State 0, sprpriority] ;Eddy is behind
type = sprpriority
trigger1 = animelem = 12
value = 3
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 12
time = 9999
id = -1
pos = 11, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 13
time = 9999
id = -1
pos = 22, -13
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 14
time = 9999
id = -1
pos = 35, -15
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 16
time = 9999
id = -1
pos = 26, -19
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 17
time = 9999
id = -1
pos = 7, -30
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 18
time = 9999
id = -1
pos = -4, -57

[State 0, sprpriority] ;Eddy is in front
type = sprpriority
trigger1 = animelem = 19
value = 1
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 19
time = 9999
id = -1
pos = -2, -87
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 20
time = 9999
id = -1
pos = 5, -67

[State 0, TargetBind] ;Final slam
type = TargetBind
trigger1 = animelem = 21
time = 1
id = -1
pos = 110, -Pos Y

;Footsies
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 10
x = 9
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 16
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
trigger2 = animelem = 9
x = 4
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = 18
y = 0

[State 0, VelSet] ;Jump into the air
type = VelSet
trigger1 = animelem = 11
x = 5
y = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 33
trigger1 = time < 91
y = 0.3

[State 0, VelSet] ;A bit of recoil for swag points
type = VelSet
trigger1 = animelem = 21
x = -2
y = -2

[State 0, VelSet] ;Landing
type = VelSet
trigger1 = animelem = 28
x = 0
y = 0

[State 0, PosSet] ;Landing
type = PosSet
trigger1 = animelem = 28
y = 0

;-------
;Sounds and screenshake
[State 0, PlaySnd] ;Light step
type = PlaySnd
trigger1 = animelem = 5
value = S40,0

[State 0, PlaySnd] ;Heavy step
type = PlaySnd
trigger1 = animelem = 28
value = S6,0

[State 200, 2] ;Whoosh noise
type = PlaySnd
trigger1 = animelem = 11
value = 0, 4

[State 200, 2] ;Heavy whoosh noise
type = PlaySnd
trigger1 = animelem = 21
value = 0, 0

[State 0, EnvShake] ;Oh yeah
type = EnvShake
trigger1 = animelem = 5
trigger2 = animelem = 28
time = 4
freq = 60
ampl = 3

[State 0, Explod] ;Particle for steps
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
anim = 6700
ID = 6700
pos = -22,0
postype = p1
scale = 0.3,0.3
ontop = 1

[State 0, Explod] ;Particle for jumping
type = Explod
trigger1 = animelem = 11
anim = 6700
ID = 6700
pos = -22,-Pos Y
postype = p1
scale = 0.7,0.7
ontop = 1

[State 0, Explod] ;Particle for landing
type = Explod
trigger1 = animelem = 28
anim = 6800
ID = 206
pos = 0,0
postype = p1
scale = .7,.7
sprpriority = 5
ontop = 0

[State 200, Angous Voice] ;HYAAAA
type = PlaySnd
trigger1 = animelem = 8
value = 210, (0+(Random%7))
volumescale=150

[State 200, Angous voice] ;DAHHH
type = PlaySnd
trigger1 = animelem = 18
value = 220, (0+(Random%4))
volumescale=150


[State 0, TargetLifeAdd] ;Drag hitbox
type = TargetLifeAdd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
value = -15
ID = -1
kill = 0
absolute = 0
[State 0, Explod] ;Particle for dragging
type = Explod
trigger1 = time > 6
trigger1 = time < 26
trigger1 = time%2 = 0
anim = F0
ID = 206
pos = random%50 - 25, random%15
postype = p1
sprpriority = 5
ontop = 1
[State 200, Angous DRAG]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
value = F5, 0

;Get FUCKED
[State 210, 2]
type = HitDef 
p2facing = 1
trigger1 = animelem = 21
attr = S, ST
animtype  = Light
damage = ceil(cond(fvar(11) * 190 < 70, 70, fvar(11) * 190)), 11
hitflag = MAFD
guardflag =
pausetime = 30,30
sparkno = 3
sparkxy = -40, -Pos Y
hitsound   = 5,4
guardsound = 6,2
ground.type = low
p2sprpriority = 6
ground.slidetime = 12
ground.hittime  = ceil(cond(fvar(15) *24 < 9, 9, fvar(15) * 24))
air.hittime  = ceil(cond(fvar(15) *30 < 9, 9, fvar(15) * 30))
down.hittime = ceil(cond(fvar(15) *30 < 9, 9, fvar(15) * 30))
ground.velocity = -3,19
air.velocity = 4,19
fall.yvelocity =-6
fall = 1
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 25
guard.ctrltime = 16
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit=1
fv =13     ;fv = 
value = 10
ignorehitpause=1
persistent=0

[State 20, EnvShake]
type = EnvShake
trigger1 = animelem = 21
time = 30
freq = 210
ampl = 8
ignorehitpause = 1

[State 0, Explod] ;Hit effect, red stuff
type = Explod
trigger1 = animelem = 21
anim = 10411
ID = 10411
pos = 0, -Pos Y
postype = P1
sprpriority = 10
ownpal = 1

[State 0, Explod] ;Hit effect, rock back
type = Explod
trigger1 = animelem = 21
anim = 10412
ID = 10412
pos = 90, -Pos Y
postype = P1
sprpriority = 1
scale = 1.3, 1.3
ownpal = 1

[State 0, Explod] ;Hit effect, rock front
type = Explod
trigger1 = animelem = 21
anim = 10413
ID = 10413
pos = 90, -Pos Y
postype = P1
sprpriority = 11
scale = 1.3, 1.3
ownpal = 1

[State 0, CtrlSet] ;Cancellable by elem 31
type = CtrlSet
trigger1 = animelem = 31
value = 1

[State 0, ChangeState] ;or not
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1

;Piss ass 4S grab P2 State 
;-----------------------------
[Statedef 10412]
type    = S
movetype= H
physics = S
juggle  = 2
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y != 0
value = 5100

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y = 0
value = 5150

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 114
value = 5041
ctrl = 0

;------------------------------------------------------------------------
;EX4S: Brutaller Angrier Pisseder Fucker You Grab
[Statedef 10414]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
anim = 10414
sprpriority = 2

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter4"
value = 1
ignorehitpause=1
persistent=1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time<=19
value = ,NT
time = 1

[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0



[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 18
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) ;&& time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = prevstateno=(666999)
v = 41
value = 1
;armor end

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.9,0.5
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time = 1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

;PosAdds for animation
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 8
trigger2 = animelem = 11
x = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
trigger2 = animelem = 12
trigger3 = animelem = 15
trigger4 = animelem = 17
x = 9

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
trigger2 = animelem = 13
trigger3 = animelem = 14
x = 11

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
trigger2 = animelem = 6
x = 13

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 15
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 18
x = 3

[State 630, 23]
type = HitDef 
p2facing = 1 
triggerall = P2movetype != H
triggerall = EnemyNear, Stateno != [120,156]
trigger1 = animelem = 9
hitonce = 1
attr = S, ST
damage = 0, 0
hitflag = M-
guardflag = 
pausetime = 0,0
sparkno = 1000
sparkxy = P2BodyDist X + -58, -34 ;P2BodyDist X, so the hitspark is relative to P1
hitsound   = S6,0
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = 23
ground.velocity = 2,-3
fall.xvelocity = -1
fall.yvelocity = -8
air.velocity = 2,-3
air.hittime = 24
fall = 1
p1stateno = 10415
p2stateno = 10412

;Snipe em
[State 630, 2]
type = HitDef 
p2facing = 1 
triggerall = P2Movetype = H
triggerall = EnemyNear, Stateno != [120,156]
trigger1 = animelem = 9
hitonce = 1
attr = S, ST
damage = 0, 0
hitflag = MAFD
guardflag = 
;priority = 3
pausetime = 0,0
sparkno = 1000
sparkxy = P2BodyDist X + -58, -34 ;P2BodyDist X, so the hitspark is relative to P1
hitsound   = S6,0
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = 23
ground.velocity = 2,-3
fall.xvelocity = -1
fall.yvelocity = -8
air.velocity = 2,-3
air.hittime = 24
fall = 1
p1stateno = 10415
p2stateno = 10412

;Immersion
[State 0, Explod] ;Step particle
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 15
anim = 6700
ID = 6700
pos = -22,0
postype = p1
scale = 0.3,0.3
ontop = 1

[State 200, Angous Voice] ;Tah!
type = PlaySnd
trigger1 = animelem = 7
value = 200, (0+(Random%5))
volumescale=200

[State 0, PlaySnd] ;Whoosh noise
type = PlaySnd
trigger1 = animelem = 7
value = S0, (1 + random%4)

[State 0, PlaySnd] ;Heavy step during whiff animation
type = PlaySnd
trigger1 = animelem = 15
trigger2 = animelem = 19
value = S6,0

[State 0, EnvShake] ;I wonder
type = EnvShake
trigger1 = animelem = 15
trigger2 = animelem = 19
time = 4
freq = 60
ampl = 3

[State 0, ChangeState] ;On hit
type = ChangeState
trigger1 = movehit = 1
value = 10415
ctrl = 0

[State 0, ChangeState] ;Not on hit
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1

;------------------------------------------------------------------------
;EX4S: Brutaller Angrier Pisseder Fucker You Throw
[Statedef 10415]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10415
sprpriority = 1

[State 0, VarSet]
type = mapSet
trigger1 = time=0
map="grab"    ;fv = 10
value = 0
ignorehitpause = 0
[State 0, VarSet]
type = mapSet
trigger1 = time=82
map="grab"    ;fv = 10
value = 1
ignorehitpause = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit=1
fv =13     ;fv = 
value = 10
ignorehitpause=1
persistent=0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem=25
statetype = S       ;S,A,C,L
movetype =A        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause =1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2
ignorehitpause = 1
persistent = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =26    ;fv = 
value = 2
ignorehitpause = 1
persistent = 0

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 32   ;fv = 10
value = 1
persistent = 0

;Ex Effect
[State 8000, flash]
type = PalFX
trigger1 = time < 18
add = 40 - time*2.2, 30 - time*1.6, -40 + time*2.2
time = 1
ignorehitpause = 1

;Animation magic
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 9999
id = -1
pos = 58, -34
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
time = 9999
id = -1
pos = 48, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 9999
id = -1
pos = 28, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 9999
id = -1
pos = 9, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5
time = 9999
id = -1
pos = 0, 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 9
time = 9999
id = -1
pos = 11, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 10
time = 9999
id = -1
pos = 2, -45
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 11
time = 9999
id = -1
pos = 2, -50

[State 0, sprpriority] ;Eddy is behind
type = sprpriority
trigger1 = animelem = 12
value = 3
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 12
time = 9999
id = -1
pos = 11, -17
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 13
time = 9999
id = -1
pos = 22, -13
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 14
time = 9999
id = -1
pos = 35, -15
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 16
time = 9999
id = -1
pos = 26, -19
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 17
time = 9999
id = -1
pos = 7, -30
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 18
time = 9999
id = -1
pos = -4, -57

[State 0, sprpriority] ;Eddy is in front
type = sprpriority
trigger1 = animelem = 19
value = 1
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 19
time = 9999
id = -1
pos = -2, -87
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 20
time = 9999
id = -1
pos = 5, -67

[State 0, TargetBind] ;Final slam
type = TargetBind
trigger1 = animelem = 21
time = 1
id = -1
pos = 130, -Pos Y

;Footsies
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 10
x = 9
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 16
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
trigger2 = animelem = 9
x = 4
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = 18
y = 0

[State 0, VelSet] ;Jump into the air
type = VelSet
trigger1 = animelem = 11
x = 5
y = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 33
trigger1 = time < 78
trigger1 = Pos Y != 0
y = 0.3

;No recoil for EX version

[State 0, VelSet] ;Landing
type = VelSet
trigger1 = animelem = 25
x = 0
y = 0

[State 0, PosSet] ;Landing
type = PosSet
trigger1 = animelem = 25
y = 0

;-------
;Sounds and screenshake
[State 0, PlaySnd] ;Light step
type = PlaySnd
trigger1 = animelem = 5
value = S40,0

[State 0, PlaySnd] ;Heavy step
type = PlaySnd
trigger1 = animelem = 25
value = S6,0

[State 200, 2] ;Whoosh noise
type = PlaySnd
trigger1 = animelem = 11
value = 0, 4

[State 200, 2] ;Heavy whoosh noise
type = PlaySnd
trigger1 = animelem = 21
value = 0, 0

[State 0, EnvShake] ;Oh yeah
type = EnvShake
trigger1 = animelem = 5
trigger2 = animelem = 25
time = 4
freq = 60
ampl = 3

[State 0, Explod] ;Particle for steps
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
anim = 6700
ID = 6700
pos = -22,0
postype = p1
scale = 0.3,0.3
ontop = 1

[State 0, Explod] ;Particle for jumping
type = Explod
trigger1 = animelem = 11
anim = 6700
ID = 6700
pos = -22,-Pos Y
postype = p1
scale = 0.7,0.7
ontop = 1

[State 0, Explod] ;Particle for landing
type = Explod
trigger1 = animelem = 25
anim = 6800
ID = 206
pos = 0,0
postype = p1
scale = .7,.7
sprpriority = 5
ontop = 0

[State 200, Angous Voice] ;HYAAAA
type = PlaySnd
trigger1 = animelem = 8
value = 210, (0+(Random%7))
volumescale=150

[State 200, Angous voice] ;DAHHH
type = PlaySnd
trigger1 = animelem = 18
value = 220, (0+(Random%4))
volumescale=150

;Drag hitbox
[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
value = ceil(cond(fvar(11) * -30 < -15, -15, fvar(11) * -30))
ID = -1
kill = 0
absolute = 0
[State 0, Explod] ;Particle for dragging
type = Explod
trigger1 = time > 6
trigger1 = time < 26
trigger1 = time%2 = 0
anim = F0
ID = 206
pos = random%50 - 25, random%15
postype = p1
sprpriority = 5
ontop = 1
[State 200, Angous DRAG]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
value = F5, 0

;Get FUCKED
[State 210, 2]
type = HitDef 
p2facing = 1
trigger1 = animelem = 21
attr = S, ST
animtype  = Hard
damage = ceil(cond(fvar(11) * 240 < 70, 70, fvar(11) * 240)), 11
hitflag = MAFD
guardflag =
pausetime = 30,30
sparkno = 3
sparkxy = -40, -Pos Y
hitsound   = 5,4
guardsound = 6,2
ground.type = low
p2sprpriority = 6
ground.slidetime = 12
ground.hittime  = ceil(cond(fvar(15) *24 < 9, 9, fvar(15) * 24))
air.hittime  = ceil(cond(fvar(15) *30 < 9, 9, fvar(15) * 30))
down.hittime = ceil(cond(fvar(15) *30 < 9, 9, fvar(15) * 30))
ground.velocity = -4,19
air.velocity = 4,19
fall.yvelocity =-6
fall = 1
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 25
guard.ctrltime = 16
getpower = 0

[State 20, EnvShake]
type = EnvShake
trigger1 = animelem = 21
time = 30
freq = 210
ampl = 8
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2
ignorehitpause = 1
persistent = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =26    ;fv = 
value = 2
ignorehitpause = 1
persistent = 0

[State 0, Explod] ;Hit effect, red stuff
type = Explod
trigger1 = animelem = 21
anim = 10411
ID = 10411
pos = 0, -Pos Y
postype = P1
sprpriority = 10
ownpal = 1

[State 0, Explod] ;Hit effect, rock back
type = Explod
trigger1 = animelem = 21
anim = 10412
ID = 10412
pos = 90, -Pos Y
postype = P1
sprpriority = 1
scale = 1.3, 1.3
ownpal = 1

[State 0, Explod] ;Hit effect, rock front
type = Explod
trigger1 = animelem = 21
anim = 10413
ID = 10413
pos = 90, -Pos Y
postype = P1
sprpriority = 11
scale = 1.3, 1.3
ownpal = 1

[State 0, CtrlSet] ;Cancellable by elem 26
type = CtrlSet
trigger1 = animelem = 31
value = 1

[State 0, ChangeState] ;or not
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;2S (null idk)
[Statedef 1050]
type    = S
movetype= I
physics = S
juggle  =0
ctrl = 0
anim = 1030
sprpriority = 5

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA,NA,SA,NP,SP,HP
pausetime = 15,20
sparkxy = 10,-10 ;offset
sparkno = 1000
hitsound = 5,3
p1stateno = 1051
;ignorehitpause = 
;persistent = 

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 3
time = 13    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 120   ;A frequency of 180 shakes the screen rapidly
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1
[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 8500, (0+(Random%4))
channel=1
[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 1005,0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 2S: Rage Counter
[Statedef 9050]
type    = S
movetype= I
physics = S
juggle  =0
poweradd= 0
ctrl = 0
anim = 1033
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time=0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time=0
reversal.attr = SCA,NA,SA,NP,HP
pausetime = 20, 100
sparkxy = 10,-10 ;offset
sparkno = 1000
hitsound = 5,3
p1stateno =9051
ignorehitpause = 1
persistent = 1

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 3
time = 13    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 120   ;A frequency of 180 shakes the screen rapidly

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.80,0.40
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 8500, (0+(Random%4))
channel=1

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 1005,0


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;2S Counter Stun
[Statedef 9051]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 120*var(2)
ctrl = 0
velset = 0,0
anim = 1031
sprpriority = -1

[State 1, Flash VFX]
type = Explod
trigger1 =time=0
anim =13005
ID = 13005
pos = 0,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1

[State 1, Aura VFX]
type = Explod
trigger1 = animelem = 3
anim = 10311
ID = 10311
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
;ignorehitpause = 
;persistent = 



[State 1, Schwing SFX] 
type = PlaySnd
trigger1 = time = 0
value = 1005,1

[State 1, Yell SFX] 
type = PlaySnd
trigger1 = animelem = 2
value = 1008, (0+(Random%1))
channel=1

[State 2, Hit]
type = hitdef 
p2facing = 1
trigger1 = animelem = 11
attr = S, SA
animtype  = hard
damage = ceil(cond(fvar(11) *110 < 7, 7, fvar(11) * 110)), 10
hitflag = MAF
pausetime = 0,0
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,3
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 100
air.hittime  = 100
fall = 1
fall.yvelocity = 0
ground.velocity = -4, -1
air.velocity = -4, -1
envshake.time = 50
envshake.freq = 180
envshake.ampl = 3
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
;p2stateno = 20144
getpower = 0
;ID = 9051


[State 1, Hit Pause]
type = SuperPause
trigger1 = animelem = 11
time = 20
unhittable = 1
ignorehitpause = 1
;darken = 1 May work on this on a future time.
darken = 0
persistent = 0

;[State 9051, P2 Custom State]
;type = TargetState
;triggerall = AnimElemTime(3) > 0
;trigger1= MoveHit =1 && NumTarget(9051)
;trigger1= Target(9051),MoveType=H
;ID = 9051
;value = 20144
;ignorehitpause=0

[State 1, Wind FX]
type = Explod
trigger1 = animelem = 2
anim =6700
ID = 670
pos = -50,0
postype = p2  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
[State 0, Back Wind FX]
type = Explod
trigger1 =animelem = 2
anim =6700
ID = 670
pos = -50,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
;[State 1, Rock FX]
;type = Explod
;trigger1 =animelem = 3
;anim =6952
;ID = 660
;pos = -40,0
;postype = p1  ;p2,front,back,left,right
;vfacing = 1
;bindtime = 1
;vel = 0,0
;accel = 0,0
;random = 0,0
;removetime = -2
;scale = 1,1
;sprpriority = 1
;shadow = 0,0,0
;ownpal = 1
;removeongethit = 0
;ontop=1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;anim =
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------
; 2S Counter Launch
[Statedef 9052]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 70*var(2)
ctrl = 0
velset = 2,-7
anim = 10336
sprpriority = 2

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = time = 0
value = 1009, (0+(Random%3))
channel=1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 4
x = -1.3

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 4


[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = animelem = 1
attr = S, SA
animtype  = up
damage  = ceil(cond(fvar(11) *60 < 7, 7, fvar(11) * 60)), 10
hitflag = MAF
guardflag = MA
pausetime = 18,18
sparkno = 3
sparkxy = -15,-30
hitsound   = 5,4
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 999
air.hittime  = 999
ground.velocity = -4,-1
air.velocity = -4,-1
forcenofall = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 3
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower = 0

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = animelem = 2
attr = S, SA
animtype  = up
damage  = 0
hitflag = MAF
guardflag = MA
pausetime = 18,18
sparkno = 3
sparkxy = -15,-30
hitsound   = 5,4
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 999
air.hittime  = 999
;ground.velocity = -2,-4
ground.velocity = -2,-4
;air.velocity = -3,-7.5
air.velocity = -3,-9
fall = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 3
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
air.cornerpush.veloff = -14
fall.yvelocity = 0
getpower= 0


[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1053

; EX 2S: Rage Counter
[Statedef 9053]
type    = S
movetype= I
physics = S
juggle  =0
poweradd= -1000
ctrl = 0
anim = 1034
sprpriority = 5

[State 1, EX PalFX]
type = PalFX
trigger1 = time = 0
time = 18
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time=0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2, ReversalDef]
type = ReversalDef
trigger1 = time=0
reversal.attr = SCA,NA,SA,NP,HP
pausetime = 20,100
sparkxy = 10,-10 ;offset
sparkno = 1000
hitsound = 5,3
p1stateno =9054
;ignorehitpause = 
;persistent = 

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 3
time = 13    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 120   ;A frequency of 180 shakes the screen rapidly
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.80,0.40
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 8500, (0+(Random%4))
channel=1
[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 1005,0


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;EX 2S Counter Stun
[Statedef 9054]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 10315
sprpriority = -1

[State 0,????]
type = varadd
trigger1 = time = 0
fvar(13) = 1

[State 1, Screen Flash]
type = Explod
trigger1 =time=0
anim =13005
ID = 13005
pos = 0,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1

[State 1, Aura VFX]
type = Explod
trigger1 = animelem = 3
anim = 103115
ID = 103115
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
;ignorehitpause = 
;persistent = 

[State 1, Schwing SFX] 
type = PlaySnd
trigger1 = time = 0
value = 1005,1

[State 1, Grrr]
type = PlaySnd
trigger1 = animelem = 1
value = 9504,0

[State 1, HURAAAHH]
type = PlaySnd
trigger1 = animelem = 10
value = 9500,2

[State 1, Bass Boom] 
type = PlaySnd
trigger1 = time = 40
value = 10303,0



[State 2, Big HIT]
type = hitdef 
p2facing = 1
trigger1 = animelem = 11
attr = S, SA
animtype  = hard
damage = ceil(cond(fvar(11) *150 < 7, 7, fvar(11) * 150)), 10
hitflag = MAF
pausetime = 0,0
sparkno = 3
sparkxy = 10, 20
hitsound   = 5,3
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 100
air.hittime  = 100
fall = 1
fall.yvelocity = 0
ground.velocity = -1, -12.5
air.velocity = -1, -12.5
envshake.time = 50
envshake.freq = 210
envshake.ampl = 3
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
;p2stateno = 20144
getpower = 0
ID = 9054

[State 2, Hit Pause]
type = SuperPause
trigger1 = animelem = 11
time = 20
unhittable = 1
ignorehitpause = 1
;darken = 1 May work on this on a future time.
darken = 0
persistent = 0

;[State 0, EnvShake] ;I don't actually know what EnvShake Does - camji
;type = EnvShake
;trigger1 = animelem = 11 
;time = 20
;freq = 180
;ampl = -4
;phase = 90
;ignorehitpause = 1
;persistent = 0




[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim =6700
ID = 670
pos = -50,0
postype = p2  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
[State 0, Explod]
type = Explod
trigger1 =animelem = 3
anim =6700
ID = 670
pos = -50,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
[State 0, Explod]
type = Explod
trigger1 =animelem = 3
anim =6952
ID = 660
pos = -40,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;anim =
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------
; 2S Counter Launch
[Statedef 9055]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 2,-7
anim = 10336
sprpriority = 2

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = time = 0
value = 1009, (0+(Random%3))
channel=1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 4
x = -1.3

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = animelem = 1
attr = S, SA
animtype  = up
damage  = 0
hitflag = MAF
guardflag = MA
pausetime = 18,18
sparkno = 3
sparkxy = -15,-30
hitsound   = 5,4
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 999
air.hittime  = 999
ground.velocity = -3,-4
air.velocity = -1,-8
fall = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 3
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower = 0

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1053


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 2S: Raging DP (Ground)
; CNS difficulty: easy
[Statedef 1051]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1032
sprpriority = -1

[State 4000, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 =1
value = A
time = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 1
x = 4

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 6

[State -3, Angous Voices]
type = PlaySnd
trigger1 = time = 0
value = 1000, (0+(Random%3))
volumescale=150
channel=1

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage = ceil(cond(fvar(11) *60 < 10, 10, fvar(11) * 60)), 6
hitflag = MAF
guardflag = MA
pausetime = 8,10
guard.pausetime = 12,14
sparkno = 2
sparkxy = -15,-20
hitsound   = 5,2
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -0.5,-7
air.velocity = -0.5,-7
guard.velocity = -1
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, Explod]
type = Explod
trigger1 =animelem = 4
anim =6700
ID = 670
pos = -50,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 4
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
[State 0, Explod]
type = Explod
trigger1 =animelem = 4
anim =6952
ID = 660
pos = -40,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 4
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1052
ctrl = 1
;anim =
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------
; 2S: Raging DP (Air)
; CNS difficulty: easy
[Statedef 1052]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
velset = 4,-9
;anim = 10322
sprpriority = 2
;hitdefpersist = 1

[State 4000, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 = time <=10
value = A
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1052 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10322 ;Animation of this state
value = 10322
elem = 1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6600
ID = 6600
pos = 0,0
postype = right  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0.9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0.4

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
y = .88

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
animtype  = up
damage = ceil(cond(fvar(11) *60 < 10, 10, fvar(11) * 60)), 6
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -15,-20
hitsound   = 5,2
guardsound = 6,2
ground.type = trip
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 35
ground.velocity = -3.5,-5.5
air.velocity = -2.2,-5.5
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
ID = 1051
NoChainID = 1051
;p2stateno = 20144
;snap = 30,0
;guard.dist = 0
;ID = 1051
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1053

;------------------------------------------------------------------------------------
;2S: Raging DP (Land)
[Statedef 1053]
type    = S
movetype=A
physics = S
poweradd= 0
ctrl = 0
anim =10323
velset = 0,0 
sprpriority = 2
facep2 = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6952
ID = 206
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority =5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6900
ID = 6900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time=0
time = 4
freq = 60
ampl = 3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 00, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; JS RageWave
;---------------------------------------------------------------------------
[Statedef 1080]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 30
ctrl = 0
anim = 1080
velset = 2,-5
sprpriority = 2

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = AFD
guardflag = HA
pausetime = 4,4
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -3
air.velocity = -4,2.8
fall  = 0
snap = 3,10
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 7
y = 11


[State 0, ChangeState]
type = ChangeState
trigger1 =pos y>=0 && vel y>=0
value = 1081
ctrl = 1

; JS RageWave (Land)
;---------------------------------------------------------------------------
[Statedef 1081]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
anim = 1081
sprpriority = 2
velset = 2,0

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = time = 0
time = 8    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 50   ;A frequency of 180 shakes the screen rapidly

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = HA
pausetime = 12,4
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -3
air.velocity = -2,-.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 25*var(2)

[State 0, Projectile]
type = Projectile
trigger1 = animelem = 1
ProjID = 422
projanim = 1072
projhitanim = 1074
projremanim = 1073
projcancelanim = 1074
projscale = .84,.84
projremove = 1
projremovetime = 19
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 60,0
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
p2facing = 1
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -2,-4.3
air.velocity = -3,-3
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 25*var(2)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;New 5S: Knuckle Duster Startup
[Statedef 1090]
type    = S
movetype=A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1090
sprpriority = 2


[State 0, VarSet]
type = MapSet
trigger1 = time = 0
trigger1 = numhelper(1093)=0
map = "wavecheck"
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = MapSet
trigger1 = time = 0
trigger1 = numhelper(1093)>0
map = "wavecheck"
value = 1
ignorehitpause = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 1
value = 200, (0+(Random%5))
volumescale=200

;Tech not allowed
[State 1060, Explod]
type = Explod
trigger1 = !NumExplod(44020)
anim = 99856
ID = 44020
removetime = -1
removeongethit = 0
persistent = 1


[State 0, ChangeState]
type = ChangeState
triggerall=time>17
trigger1 = command != "hold_b"
value = 1091

[State 0, ChangeAnim]
type = ChangeAnim
triggerall=map(wave)>0
trigger1 = animelem=8
trigger1 = command = "hold_b"
value = 1090
elem = 7

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1=map(wave)=0
trigger2=enemynear,stateno=5120
value = 1092

;---------------------------------------------------------------------------
;Assist Knuckle Duster Startup
[Statedef 1190]
type    = S
movetype=A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1090
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno=190195
flag = noinput
flag2=noturntarget
ignorehitpause = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 1
value = 8504,0
channel=5

[State -3, Angous Voices]
type = PlaySnd
trigger1=anim=1090
trigger1 = animelem = 1
value = 200, (0+(Random%5))
volumescale=200


;Tech not allowed
[State 1060, Explod]
type = Explod
trigger1 = !NumExplod(44020)
anim = 99856
ID = 44020
removetime = -1
removeongethit = 0
persistent = 1

[State 0, ChangeState]
type = ChangeAnim
triggerall = animtime = 0
triggerall=anim!=1091
trigger1=map(wave)=0
trigger2=enemynear,stateno=5120
value = 1091

[State -3, Vile Voices]
type = PlaySnd
triggerall=anim=1091
trigger1 = animelem = 4
value = 1031, (0+(Random%4))

[State 200, 2]
type = PlaySnd
triggerall=anim=1091
trigger1 = animelem = 5
value = 1, 2

[State -3, Angous Voices]
type = PlaySnd
triggerall=anim=1091
trigger1 = animelem = 1
value = 1002,0+random%3
volumescale=150


 [State 1200, Shake Screen]
type = EnvShake
triggerall=anim=1091
trigger1 = animelem = 4
time = 15    ;Time to shake screen
ampl = 5     ;Amount to shake
freq = 90   ;A frequency of 180 shakes the screen rapidly

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
hitonce = 1
attr = S, HT
damage = ceil(cond(fvar(11) *200 < 15, 15, fvar(11) * 200)), 15
hitflag = MAFDP
guardflag = MA
;priority = 3
pausetime = 18,18
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = 32
air.hittime  = 40
down.hittime = 40
ground.velocity = -6.6
air.velocity = -6,-4
;air.fall=1
fall.yvelocity = 0
guard.slidetime = 12
guard.hittime = 30
guard.ctrltime = 28
palfx.time = 12
palfx.add = 100, 0,20
forcenofall = 1
envshake.time = 18
envshake.freq = 90
envshake.ampl = 8
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, Helper]
type = Helper
triggerall=anim=1091
trigger1 = animelem = 5 && numhelper(1093)=0
helpertype = normal ;player
name = "wave"
ID = 1093
stateno = 1093
pos = 30,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .7
size.yscale = .8

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1=anim=1091
value = 0

;---------------------------------------------------------------------------
;New 5S: Knuckle Duster
[Statedef 1091]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1091
sprpriority = 2


[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2.2

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 5

[State -3, Vile Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1031, (0+(Random%4))

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 1
value = 1002,0+random%3
volumescale=150

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 1092
ID = 1092
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.78,0.78
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 1096
ID = 1096
pos = 50,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.68,0.68
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 10042
ID = 10042
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6700
ID = 6700
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.55,0.55
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 15    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 90   ;A frequency of 180 shakes the screen rapidly


[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *90 < 10, 10, fvar(11) * 90)), 35
hitflag = MAFDP
guardflag = MA
;priority = 3
pausetime = 10,10
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = ceil(cond(fvar(16) *32 < 9, 9, fvar(16) * 32))
air.hittime  = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
down.hittime = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
ground.velocity = -6,-1
air.velocity = -6,-2
;air.fall=1
fall = !P2statetype = A
fall.yvelocity = 0
guard.slidetime = 12
guard.hittime = 30
guard.ctrltime = 25
palfx.time = 12
palfx.add = 100, 0,20
forcenofall = P2statetype = A 
envshake.time = 14
envshake.freq = 90
envshake.ampl = 5
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

;Tech not allowed
[State 1060, Explod]
type = Explod
trigger1 = !NumExplod(44020)
anim = 99856
ID = 44020
removetime = -1
removeongethit = 0
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;New 5S: Knuckle Duster
[Statedef 1092]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1091
sprpriority = 2

[State 0, VarSet]
type = MapSet
trigger1 = time=0
map="wave" 
value =1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 0.45
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 5

[State -3, Vile Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1031, (0+(Random%4))

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 2

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 1
value = 1002,0+random%3
volumescale=150

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 1092
ID = 1092
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.78,0.78
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 1095
ID = 1095
pos = 50,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.68,0.68
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 4
anim = 10042
ID = 10042
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6700
ID = 6700
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.70
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6600
ID = 6600
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.70
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, ExplodBindTime]
type = ExplodBindTime
trigger1 = animelem = 6
ID = 1093
time = 10
;ignorehitpause = 
;persistent = 


 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 15    ;Time to shake screen
ampl = 5     ;Amount to shake
freq = 90   ;A frequency of 180 shakes the screen rapidly

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *120 < 15, 15, fvar(11) * 120)), 35
hitflag = MAFDP
guardflag = MA
;priority = 3
pausetime = 12,12
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = 32
air.hittime  = 40
down.hittime = 40
ground.velocity = -6.6
air.velocity = -6,-4
;air.fall=1
fall.yvelocity = 0
guard.slidetime = 12
guard.hittime = 30
guard.ctrltime = 28
palfx.time = 12
palfx.add = 100, 0,20
forcenofall = 1
envshake.time = 18
envshake.freq = 90
envshake.ampl = 8
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, Helper]
type = Helper
triggerall=anim=1091
trigger1 = animelem = 6 && numhelper(1093)=0
trigger1 = map(wavecheck)=0
helpertype = normal ;player
name = "wave"
ID = 1093
stateno = 1093
pos = 30,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .7
size.yscale = .8


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Wave
[Statedef 1093]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1093
sprpriority = 2
velset = 1.7,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time=0
hitonce = 1
attr = A, SP
damage = ceil(cond(root,fvar(11) *27 < 4, 4, root,fvar(11) * 27)), 6
hitflag = MAFD
guardflag = MA
pausetime = 7,7
guard.hittime = 24
guard.ctrltime = 22
ground.slidetime = 14
ground.hittime  = 17
ground.velocity = -5,0
fall.xvelocity = -2
fall.yvelocity = 0
air.velocity = -4,-1
air.hittime = 34
air.fall = 1
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,2
guardsound = 6,2
ground.type =high
animtype = medium
forcenofall = 1
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))
ground.cornerpush.veloff = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = p2movetype = H
fv = 13
value = 0.25
ignorehitpause = 1

[State 0, VarSet]
type = Mapset
trigger1 = prevstateno !=1093
trigger1 = time = 0
map = "wavetime"
value = 80
[State 0, VarSet]
type = MapAdd
trigger1 = map(wavetime)>0
map = "wavetime"
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno !=1093
v = 20    ;fv = 10
value = 0

[state 0, varset]
type = VarAdd
trigger1 = time=0
trigger1 = prevstateno =1093
v = 20     ;fv = 
value = 1
ignorehitpause=1

[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =SCA,NA,SA,HA,NP,SP,HP
slot = 0
stateno = 1093
time = 1
forceair = 0
[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 1093
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NT,ST,HT
time = -1

[State 0, ChangeState]
type = destroyself
trigger1 = var(20)>2
trigger2 = anim=1094
trigger2 = animtime=0

[State 0, ChangeState]
type = velmul
trigger1 = anim=1094
x = .8

[State 0, ChangeState]
type = Changeanim
triggerall=anim!=1094
trigger1 = map(wavetime)=0
trigger2 = parent,movetype = H
value = 1094

;Install 6S: BrawlerRush A
;---------------------------------------------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
anim = 10000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 2000 ;State of this attack
;ignorehitpause = 
;persistent = 



[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 5
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30 ;A frequency of 180 shakes the screen rapidly


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 210, (0+(Random%7))
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1007
ID = 1007
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 12
removetime = -2
pausemovetime = 0
scale = .84,.84
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1006
ID = 1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale = .94,.94
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0


[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)=0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = ceil(cond(fvar(15) *136 < 30, 30, fvar(15) * 136))
down.hittime = 136
ground.velocity = -3
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)>0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 5, 5, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 15,15
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = ceil(cond(fvar(15) *136 < 30, 30, fvar(15) * 136))
down.hittime = 136
ground.velocity = -3
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b" 
trigger2 = command = "holdfwd" && command = "b"  && time> 24
value = 2001
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 =command = "z" && command = "holdfwd"
trigger1 = movecontact && enemynear, movetype = H
value = 230
ctrl = 0

;---------------------------------------------------------------------------
;Install 6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 2001]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
anim = 10011
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 = time<=22
value = A
time = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 2001 ;State of this attack
;ignorehitpause = 
;persistent = 


[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 6
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30   ;A frequency of 180 shakes the screen rapidly

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1001,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .84,.84
sprpriority = 1
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1008
ID = 1008
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 15
removetime = -2
pausemovetime = 0
scale = .84,.84
ontop = 1
sprpriority = 10
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale = .94,.94
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)=0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 27
air.hittime  = ceil(cond(fvar(15) *106 < 30, 30, fvar(15) * 106))
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 24
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=map(hdc)>0
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 5, 5, fvar(11) * 70)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 27
air.hittime  = ceil(cond(fvar(15) *106 < 30, 30, fvar(15) * 106))
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 24
getpower = (50)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
value = 2002
ctrl = 0


[State 0, ChangeState]
type = ChangeState
trigger1 =command = "z" && command = "holdfwd"
trigger1 = movecontact && enemynear, movetype = H
value = 230
ctrl = 0

;---------------------------------------------------------------------------
;Install 6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 20011]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1
anim = 10000

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 100

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 20011 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 200, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 25   
value = 1.5; You can make this whatever you want to increase stun scaling per move
ignorehitpause = 1
persistent = 1


[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 6
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30   ;A frequency of 180 shakes the screen rapidly


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 9502, (0+(Random%3))

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 1
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1008
ID = 1008
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 15
removetime = -2
pausemovetime = 0
scale = .84,.84
ontop = 1
sprpriority = 10
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.84,0.84
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale = .94,.94
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 80 < 10, 10, fvar(11) * 80)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 15,15
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 27
air.hittime  = 106
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 24
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
value = 2002
ctrl = 0


;---------------------------------------------------------------------------
;Install 6S: Charge
[Statedef 2002]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 3   ;fv = 10
value = 1
persistent = 0



[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 2002 ;State of this attack

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256


[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2

[State 0, VarAdd]
type = MapSet
trigger1 = time=0
trigger1 = prevstateno != 666999
map = "scharge"
value = 0
ignorehitpause = 1

[State 0, VarAdd]
type = MapAdd
trigger1 = 1
map = "scharge"
value = 1
ignorehitpause = 1

[State 12, ChangeState]
type = ChangeState
triggerall=command!= "hold_b"
trigger1 = map(scharge)>12
trigger2 = prevstateno = 666999
value = 2003

[State 13, ChangeState]
type = changestate
triggerall=command= "hold_b"
trigger1 = map(scharge) > 60
trigger2 =map(scharge) > 60 && prevstateno = 666999
value = 20033
;---------------------------------------------------------------------------
;Install 6S: BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 2003]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 2003 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 50   ;A frequency of 180 shakes the screen rapidly

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10033 ;Animation of this state
value = 10033
elem = 1


[State 0]
type = MapSet
triggerall = var(28)>0
triggerall = movetype != H
trigger1 = animelemtime(5)<0
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1 = animelemtime(5)<0
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .84,.84
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .84,.84
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 14

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

;Explod Limiter 
[State 0, Explod]
type = Explod
;triggerall = !stateno = 690000 && p2movetype = H
trigger1 = !NumExplod(99856)
trigger1 = MoveHit
anim = 99856
ID = 99856
removetime = -1
removeongethit = 1
persistent = 1


[State 410, 2]
type = hitdef
p2facing = 1
triggerall = enemynear,map(armor)=0
triggerall=map(hdc)=0
trigger1 = !NumExplod(99856)
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 140+var(10)*0.5888 < 75, 75, fvar(11) * 140+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 999
air.hittime = 999
down.hittime = 999
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
id = 99856
p2stateno = 915020
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
triggerall=map(hdc)=0
trigger1 = !NumExplod(99856)
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 140+var(10)*0.5888 < 75, 75, fvar(11) * 140+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 999
air.hittime = 999
down.hittime = 999
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
id = 99856



[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
triggerall=map(hdc)>0
trigger1 = !NumExplod(99856)
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 140+var(10)*0.5888 < 37, 37, fvar(11) * 140+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 999
air.hittime = 999
down.hittime = 999
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
id = 99856
p2stateno = 915020
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
triggerall=map(hdc)>0
trigger1 = !NumExplod(99856)
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 140+var(10)*0.5888 < 37, 37, fvar(11) * 140+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 999
air.hittime = 999
down.hittime = 999
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
id = 99856


[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = NumExplod(99856)
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 140+var(10)*0.5888 < 75, 75, fvar(11) * 140+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 999
air.hittime = 999
down.hittime = 999
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 13
envshake.freq = 90
envshake.ampl = 8
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
id = 99856

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1


;---------------------------------------------------------------------------
;Install 6S: BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 20033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1
anim=10033
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 20033 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 70   ;A frequency of 180 shakes the screen rapidly

[State 0]
type = MapSet
trigger1 = animelemtime(5)<0
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = animelemtime(5)<0
attr = SCA ,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 26

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
trigger1 =  !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 139+var(10)*0.5999 < 75, 75, fvar(11) * 139+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 40
envshake.freq = 150
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 20
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
trigger1 =  !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 139+var(10)*0.5999 < 75, 75, fvar(11) * 139+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 40
envshake.freq = 150
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 20
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;Install 6S: Charge
[Statedef 20022]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2

;Throw Tech not allowed
[State 1060, Explod]
type = Explod
trigger1 = !NumExplod(44020)
anim = 99856
ID = 44020
removetime = -1
removeongethit = 0
persistent = 1

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 666999
trigger1 = time = 0 && anim!=1002
trigger2 = prevstateno != 666999
trigger2 = time = 0 ;Animation of this state
value = 1002
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 20022 ;State of this attack

[State 0, HitOverride]
type = HitOverride
trigger1 = 1;var(41) < 6 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2


[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command !="hold_b"
trigger2 = prevstateno = 666999 && command!= "hold_b"
value = 2103

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b"
value = 21033
;---------------------------------------------------------------------------
;Install 6S: BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 2103]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 200, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 25   
value = 1.5; You can make this whatever you want to increase stun scaling per move
ignorehitpause = 1
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 2003 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 50   ;A frequency of 180 shakes the screen rapidly

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10033 ;Animation of this state
value = 10033
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  time<=11
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 9503, (0+(Random%4))

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 14

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 180+var(10)*0.5888 < 15, 15, fvar(11) * 180+var(10)*0.5888)),20+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 28,28
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -8,-2.8
air.velocity = -8,-2.8
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 40
envshake.freq = 160
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;Install 6S: BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 21033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 20033 ;State of this attack
;ignorehitpause = 
;persistent = 


[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 70   ;A frequency of 180 shakes the screen rapidly

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10033 ;Animation of this state
value = 10033
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA ,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 10

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 9503, (0+(Random%4))

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .94,.94
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 26

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
trigger1 =!movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 179+var(10)*0.5999 < 20, 20, fvar(11) * 179+var(10)*0.5999)),22+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 40
envshake.freq = 150
envshake.ampl = 6
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
trigger1 =!movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 179+var(10)*0.5999 < 20, 20, fvar(11) * 179+var(10)*0.5999)),22+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 15,15
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 40
envshake.freq = 150
envshake.ampl = 6
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1


;====================================================================================
; JS
[Statedef 9969]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 1, -4
anim = 10337
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 12
y = 10
;ignorehitpause = 
;persistent = 

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem=1
value = 1000, (0+(Random%3))
volumescale=150


[State 2, Ground Hit]
type = hitdef 
p2facing = 1
trigger1 =  !movecontact
trigger1 = P2statetype != A
hitonce = 1
attr = A, SA
animtype  = hard 
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag=MA
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20

[State 2, Air "Grab" Hit]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
trigger1 = p2statetype = A
trigger1 = p2movetype !=H
hitonce = 1
attr = A, ST
animtype  = hard 
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
[State 2, Air "Grab" Hit]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
trigger1 = p2statetype = A
trigger1 = p2movetype =H
hitonce = 1
attr = A, ST
animtype  = hard 
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 99
id = -1
pos = 30,-15


[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -15
value = 9970

;=========================================================================
; JS Land
[Statedef 9970]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9970
sprpriority = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1.7

[State 200, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 25   
value = 2.5; You can make this whatever you want to increase stun scaling per move
ignorehitpause = 1
persistent = 0

[State -2, VarSet]
type = VarSet
trigger1 = !numtarget
fv = 25
value = 0

[State -2, VarSet]
type = VarSet
trigger1 = !numtarget
fv = 13
value = 1.7

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6900
ID = 6900
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 3054]
type = Explod
trigger1 = animelem = 1
anim = 10042
ID = 10042
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.8,1.8
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, NA
animtype  = hard
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 10
hitflag = MAF
guardflag = MA
pausetime = 14,14
sparkno = 1
sparkxy = -15,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  =999
air.hittime  = 999
ground.velocity = -4,22
fall=1
fall.xvelocity = -1.6
fall.yvelocity = -3
down.velocity = -4,22
air.fall=1
air.velocity = -4, 9
ground.cornerpush.veloff = 0
down.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 80
envshake.ampl = 5
envshake.phase = 1
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime =7
guard.velocity = -3.5
air.fall = 0
forcenofall = 1
getpower = (100)*(cond(var(var(2)) = 1, 1, .5))


[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;====================================================================================
; EX JS
[Statedef 9971]
type    = A
movetype= A
physics = A
poweradd= -1000
ctrl = 0
velset = 2,-2
anim = 10338
sprpriority = -1

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter5"
value = 1
ignorehitpause=1
persistent=1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 10
y = 10
;ignorehitpause = 
;persistent = 

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem=1
value = 1000, (0+(Random%3))
volumescale=150

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

 
[State 2, Ground Hit]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
trigger1 = P2statetype != A
attr = S, SA
animtype  = hard 
damage = ceil(cond(fvar(11) *50 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag=MA
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower =0

[State 2, Aerial "Grab" Hit]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
trigger1 = P2statetype = A
trigger1 = p2movetype !=H
attr = S, ST
animtype  = hard 
damage = ceil(cond(fvar(11) *50 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower =0

[State 2, Aerial "Grab" Hit]
type = hitdef 
p2facing = 1
trigger1 = !movecontact
trigger1 = P2statetype = A
trigger1 = p2movetype =H
attr = S, ST
animtype  = hard 
damage = ceil(cond(fvar(11) *50 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
getpower =0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 99
id = -1
pos = 30,-15

;snap = 30,0
;guard.dist = 0
;ID = 1051
getpower = 0

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -15
value = 9972

;=========================================================================
; EX JS Land
[Statedef 9972]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9970
sprpriority = -1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1200, Shake Screen]
type = EnvShake
trigger1 = time=1
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 50   ;A frequency of 180

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6900
ID = 6900
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 3054]
type = Explod
trigger1 = animelem = 7
anim = 10042
ID = 10042
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.8,1.8
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 200, 1]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
trigger1 = !movecontact
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *50 < 13, 13, fvar(11) * 40)), 7
hitflag = MAFDP
guardflag = MA
;priority = 3
pausetime = 0,20
guard.pausetime = 18,18
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = ceil(cond(fvar(16) *32 < 9, 9, fvar(16) * 32))
air.hittime  = ceil(cond(fvar(16) *60 < 9, 9, fvar(16) * 60))
down.hittime = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
ground.velocity = -4, 5
air.velocity = -4,5
;air.fall=1
guard.slidetime = 12
guard.hittime = 15
guard.ctrltime = 15
palfx.time = 12
palfx.add = 100, 0,20
fall = 1
envshake.time = 18
envshake.freq = 90
envshake.ampl = 8
getpower = 0
p2stateno=915020
[State 200, 1]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
trigger1 = !movecontact
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *50 < 13, 13, fvar(11) * 40)), 7
hitflag = MAFDP
guardflag = MA
;priority = 3
pausetime = 0,20
guard.pausetime = 18,18
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = ceil(cond(fvar(16) *32 < 9, 9, fvar(16) * 32))
air.hittime  = ceil(cond(fvar(16) *60 < 9, 9, fvar(16) * 60))
down.hittime = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
ground.velocity = -4, 5
air.velocity = -4,5
;air.fall=1
guard.slidetime = 12
guard.hittime =15
guard.ctrltime = 15
palfx.time = 12
palfx.add = 100, 0,20
fall = 1
envshake.time = 18
envshake.freq = 90
envshake.ampl = 8
getpower = 0



[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 1
id = -1
pos = 20,15

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=========================================================================================================================
;EX VERSIONS
;=========================================================================================================================

; 5S: EX big fist lel 
[Statedef 9020]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
velset = 0,0
;anim = 1010
sprpriority = -1
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1.5

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (1) >= 0) && (AnimElemTime (4) < 0)
value = 10,0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!= 1010 ;Animation of this state
value =1010
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9020 ;State of this attack

[State 0, HitOverride]
type = HitOverride
triggerall = (AnimElemTime (1) >= 0) && (AnimElemTime (5) < 0)
trigger1 = var(41) < 5 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 15
forceair = 0

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time = 40
;time = 30
;add = 150,100,0
;mul = 256,256,256
;sinadd = 150,100,0,30
;invertall = 0
;color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = prevstateno=(666999)
v = 41
value = 1
;armor end

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 5
value = 9504, (0+(Random%3))

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 33   ;fv = 10
value = 1
persistent = 0

;[State 0, NotHitBy]
;type = NotHitBy
;trigger1 = time =0 
;value = SCA,NA,SA,HA,NP,SP,HP,NT,ST
;value2 = S,NA
;time = 7

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 5
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 10   ;A frequency of 180 shakes the screen rapidly

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 1
value = 1001, (0+(Random%2))


[State 0, VelSet]
type = VelSet
trigger1 = animelem =3
x = 34
persistent = 1

[State 0, VelMul]
type = VelMul
trigger1 = time>19
x = .6



[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *120 < 30, 30, fvar(11) * 120)), 15
hitflag = MAFD
guardflag = MA
pausetime = 19,19
sparkno = 3
sparkxy = -25,-44
hitsound   = 5,3
guardsound = 6,2
ground.type = high
animtype = medium
ground.slidetime = 14
ground.hittime  = 23
ground.velocity = -6.6,-2
air.velocity = -7.6,-4
air.hittime = 60
air.fall=1
envshake.time = 7
guard.slidetime = 10
guard.hittime = 20
guard.ctrltime = 20
fall=1
fall.yvelocity = 0
palfx.time = 12
palfx.add = 100, 0,20
getpower =  0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value=0,0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;anim =
;ignorehitpause = 
;persistent = 

[State 0, ChangeState]
type = ChangeState
trigger1=command = "holdfwd" && command = "buffer_c" && time = [1,15]
value = 1070
ctrl = 0

;6S: EX BrawlerRush A
;---------------------------------------------------------------------------
[Statedef 9000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter2"
value = 1
ignorehitpause=1
persistent=1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 210, (0+(Random%7))
volumescale=150

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 1000 ;State of this attack
;ignorehitpause = 
;persistent = 

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1000 ;Animation of this state
value = 1000
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 18
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 32   ;fv = 10
value = 1
persistent = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 9500, 0
channel=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1







[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1006
ID = 1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0


[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 80 < 10, 10, fvar(11) * 80)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 19,19
sparkno = 3
sparkxy = -10,-40
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 29
air.hittime  = 136
down.hittime = 136
ground.velocity = -3,0
air.velocity = -2,-4
air.cornerpush.veloff = -12
fall  = 0
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 19
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower =  0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b" 
trigger2 = command = "holdfwd" && command = "b"  && time>22
trigger3 = movecontact && command = "holdfwd" && command = "EX" 
trigger4 = command = "holdfwd" && command = "EX"  && time>22
value = 9001
ctrl = 0

;---------------------------------------------------------------------------
;6S: EX BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 9001]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1001
sprpriority = 2
facep2 = 1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1001,0
volumescale=150


[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 1
removeongethit = 0
ignorehitpause=  0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 80 < 10, 10, fvar(11) * 80)),11
animtype  =hard
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 27
air.hittime  = 106
forcenofall = 1
ground.velocity = -4
air.velocity = -2,-3
yaccel = .24
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 19
guard.slidetime = 13
guard.ctrltime = 18
getpower = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>24
trigger3 = movecontact && command = "holdfwd" && command = "EX"
trigger4 = command = "holdfwd" && command = "EX"  && time>24
value = 9002
ctrl = 0

;---------------------------------------------------------------------------
;6S: EX BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 90011]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
anim = 1001
sprpriority = 2
facep2 = 1

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter8"
value = 1
ignorehitpause=1
persistent=1


[State 0, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 = time<=24
value = A
time = 1
ignorehitpause = 1

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 3   ;fv = 10
value = 1
persistent = 0

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 5
value = 9500, 1
channel=1

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 1
removeongethit = 0
ignorehitpause=  0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 120 < 15, 15, fvar(11) * 120)),11
animtype  = hard
hitflag = MAFD
guardflag = MA
pausetime = 28,28
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 35
air.hittime  = 106
ground.velocity = -1,-5.9
air.velocity = -1,-5.9
yaccel =.24
air.cornerpush.veloff = -16
air.fall = 1
fall=1
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 19
guard.slidetime = 13
guard.ctrltime = 18
getpower =  0
fall.yvelocity = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>24
trigger3 = movecontact && command = "holdfwd" && command = "EX"
trigger4 = command = "holdfwd" && command = "EX"  && time>24
value = 9102
ctrl = 0

;---------------------------------------------------------------------------
;EX 6S Charge
[Statedef 9002]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1002
sprpriority = 2

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1
;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && prevstateno=666999 ;Animation of this state
value = 1002
elem = 6

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9002 ;State of this attack

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256


[State 0]
type = MapSet
trigger1 = (AnimElemTime (8) < 0)
trigger2 = prevstateno=666999
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = (AnimElemTime (8) < 0)
trigger2 = prevstateno=666999
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time = 40
;time = 30
;add = 150,100,0
;mul = 256,256,256
;sinadd = 150,100,0,30
;invertall = 0
;color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 
[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 5
value = 9511,0
channel=2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2

[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command!="hold_b"
trigger2 = prevstateno = 666999 && command!= "hold_b"
value = 9003

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b"
value = 90033
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;EX 6S Charge
[Statedef 90022]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= -1000
ctrl = 0
sprpriority = 2
velset = 0,0

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter7"
value = 1
ignorehitpause=1
persistent=1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 3   ;fv = 10
value = 1
persistent = 0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9002 ;State of this attack

[State 0, HitOverride]
type=hitoverride
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 
[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 5
value = 9511,0
channel=2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2

[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command!="hold_b"
trigger1 = command!="hold_EX"
trigger2 = prevstateno = 666999 && command!= "hold_b"
trigger2 = prevstateno = 666999 && command!= "hold_EX"
value = 9203

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b"
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_EX"
value = 91033

;---------------------------------------------------------------------------
;6S: EX BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 9003]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1003
sprpriority = 2
facep2 = 1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
trigger2 = movehit = 1
time = 30
freq = 190
ampl = 8
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 145+var(10)*0.5999 < 10,10, fvar(11) * 145+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-4
air.velocity = -14,-4.5
fall  = 1
air.fall = 0
palfx.time = 36
palfx.add = 100, 0,20
p2stateno = 5555
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 145+var(10)*0.5999 < 10,10, fvar(11) * 145+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-4
air.velocity = -14,-4.5
fall  = 1
air.fall = 0
palfx.time = 36
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0



[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: EX BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 90033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10033
sprpriority = 2
facep2 = 1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0]
type = MapSet
trigger1 = (AnimElemTime (4) < 0)
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = (AnimElemTime (4) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 25

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)=0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 174+var(10)*0.5999 < 15, 15, fvar(11) * 174+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -20,-4
air.velocity = -20,-4
fall  = 1
air.fall = 0
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 36
palfx.add = 100, 0,20
p2stateno = 5555
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall = enemynear,map(armor)>0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 174+var(10)*0.5999 < 15, 15, fvar(11) * 174+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -20,-4
air.velocity = -20,-4
fall  = 1
air.fall = 0
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 36
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0




[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: EX BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 9203]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1003
sprpriority = 2
facep2 = 1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, HitOverride]
type = HitOverride
triggerall = (AnimElemTime (4) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 9500, 2
channel=2

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1005
ID = 1013
pos = 10,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0 ;&& FrontEdgeDist < 8
attr = S, SA
damage = ceil(cond(fvar(11) * 185+var(10)*0.5999 < 10,10, fvar(11) * 185+var(10)*0.5999)),17+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-4
air.velocity = -14,-4.5
fall  = 1
air.fall = 0
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 36
palfx.add = 100, 0,20
p2stateno = 5555
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0


[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;6S: EX BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 92033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10033
sprpriority = 2
facep2 = 1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, HitOverride]
type = HitOverride
triggerall = (AnimElemTime (4) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 10

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 9500, 2
channel=2

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .64,.64
sprpriority = 3
removeongethit = 0
ignorehitpause=  0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 25

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0 ;&& FrontEdgeDist < 8
attr = S, SA
damage = ceil(cond(fvar(11) * 214+var(10)*0.5999 < 15, 15, fvar(11) * 214+var(10)*0.5999)),17+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -20,-4
air.velocity = -20,-4
fall  = 1
air.fall = 0
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 36
palfx.add = 100, 0,20
p2stateno = 5555
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower =  0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9041 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 0,????]
type = varadd
trigger1 = time = 0
fvar(13) = 1

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1041 ;Animation of this state
value = 1041
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 4

;ignorehitpause = 
;persistent = 
[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = animelem = 3
value = 9503,1
channel=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6952
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6952
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 1041, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 30 < 10, 10, fvar(11) * 30)),12
animtype = hard
hitflag = MAF
guardflag = MA
pausetime = 25,25
sparkno = 3
sparkxy = -19, -22
hitsound   = 5,4
guardsound = 6,2
ground.type = low
ground.slidetime = 0
guard.slidetime = 9
ground.hittime  = 30
guard.ctrltime = 21
ground.velocity = -1,22
airguard.velocity = -3,-.8
air.type = high
air.velocity = -1,22
air.hittime = 12
fall = 1 
fall.yvelocity = -8
down.bounce = 9
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
  palfx.time = 16
  palfx.add = 40, 30, -40
palfx.sinadd = 50,50,50,16
p2facing = 1
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -7
getpower =  0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
; 2S: Install EX DP (Ground)
[Statedef 9061]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 1032
sprpriority = -1

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter3"
value = 1
ignorehitpause=1
persistent=1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = time = 0
value = 1000, (0+(Random%3))
volumescale=150


[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 99
id = -1
pos = 30,-15

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 36
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

[State 4000, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 =1
value = SCA
time = 1

;[State 0, Explod]
;type = Explod
;trigger1 =time=0
;anim =13005
;ID = 13005
;pos = 0,0
;postype = p1  ;p2,front,back,left,right
;vfacing = 1
;bindtime = 1
;vel = 0,0
;accel = 0,0
;random = 0,0
;removetime = -2
;scale = 1,1
;sprpriority = 1
;shadow = 0,0,0
;ownpal = 1
;removeongethit = 0
;ontop=1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 1
x = 4

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 6

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = time = 0
value = 8503, (0+(Random%1))
channel=1

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = 2
sparkxy = -15,-20
hitsound   = 5,2
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -1,-6
air.velocity = -1,-4.6
guard.velocity = -1
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
;p2stateno = 20144
;snap = 30,0
;guard.dist = 0
;ID = 1051
getpower = 0

;[State 9051, P2 Custom State]
;type = TargetState
;triggerall = AnimElemTime(3) > 0
;trigger1= MoveHit =1 && NumTarget(1051)
;trigger1= Target(1051),MoveType=H
;ID = 1051
;value = 20144
;ignorehitpause=0

;[State 0, Explod]
;type = Explod
;trigger1 =animelem = 3
;anim =6700
;ID = 670
;pos = -50,0
;postype = p2  ;p2,front,back,left,right
;vfacing = 1
;bindtime = 1
;vel = 0,0
;accel = 0,0
;random = 0,0
;removetime = -2
;scale = 0.7,0.7
;sprpriority = 1
;shadow = 0,0,0
;ownpal = 1
;removeongethit = 0
;ontop=1

[State 0, Explod]
type = Explod
trigger1 =animelem = 4
anim =6700
ID = 670
pos = -50,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1
[State 0, Explod]
type = Explod
trigger1 =animelem = 4
anim =6952
ID = 660
pos = -40,0
postype = p1  ;p2,front,back,left,right
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ontop=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 9062
ctrl = 1
;anim =
;ignorehitpause = 
;persistent = 

;2S: Install EX DP (Air)
[Statedef 9062]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 4,-9
anim = 10322
sprpriority = 2
;hitdefpersist = 1

[State 4000, NotHitBy]
type = NotHitBy
triggerall=enemynear,stateno!=900
triggerall=enemynear,stateno!=901
trigger1 = time <=10
value = SCA
time = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6600
ID = 6600
pos = 0,0
postype = right  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0.9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0.4

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
y = .88

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
animtype  = up
damage = ceil(cond(fvar(11) *40 < 13, 13, fvar(11) * 40)), 7
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = 2
sparkxy = -15,-20
hitsound   = 5,2
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
p1stateno = 9063
;p2stateno = 20144
;snap = 30,-15
;guard.dist = 0
;ID = 1051
getpower = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 99
id = -1
pos = 30,-15

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1053

; 2S: Install EX DP (Hit)
[Statedef 9063]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 4,-8
anim = 10333
sprpriority = 2

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
animtype  = hard 
damage = ceil(cond(fvar(11) *20 < 10, 10, fvar(11) * 20)), 7
hitflag = MAF
pausetime = 0,0
sparkno = 1000
sparkxy = -15,-20
hitsound = S669,0
guardsound = 6,2
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
air.hittime  = 50
ground.velocity = -3.5,-6
air.velocity = -2.2,-6
guard.velocity = -7
guard.slidetime = 16
guard.hittime = 20
guard.ctrltime = 16
envshake.time = 20
envshake.freq = 100
envshake.ampl = 4
envshake.phase = 1
forcenofall = 1
palfx.time = 12
palfx.add = 100, 0,20
p1stateno = 9064
p2stateno = 90644
;snap = 30,0
;guard.dist = 0
;ID = 1051
getpower = 0

; 2S: Install EX DP (Grab Confirm)
[Statedef 9064]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 10,7
anim = 10334
sprpriority = -1

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -3, Angous Voices]
type = PlaySnd
trigger1 = time=0
value = 1002,0+random%3
volumescale=150

[State 10, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 999
pos = -2.6666666666667, -22.666666666667

[State 10, Throw]
type = targetstate
trigger1 = Vel Y > 0 && Pos Y >= -18
value = 90644

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -15
value = 9065

;ex dp p2 state (air)
[Statedef 90644]
type = A
movetype = H
physics = N
velset = 0,0
poweradd = 0
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = time = 60
value = 5041

; 2S: EX DP (Land)
[Statedef 9065]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10335
sprpriority = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 8


[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 25
value = 5

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6900
ID = 6900
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 3054]
type = Explod
trigger1 = animelem = 1
anim = 10042
ID = 10042
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.8,1.8
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 1041, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, ST
damage = ceil(cond(fvar(11) * 50 < 20, 20, fvar(11) * 50)),12
animtype  = Hard
hitflag = MAF+
guardflag = HA
pausetime = 0,20
sparkno = 3
sparkxy = -40,-30
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 45
air.hittime  = 136
down.hittime = 136
ground.velocity = -3,22
air.velocity = -3,22
fall  = 1
fall.yvelocity = -10
fall.xvelocity = -0.5
down.bounce = 7
envshake.time = 25
envshake.freq = 100
envshake.ampl = 6
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 20
palfx.add = 100, 0,20
guard.velocity = -6
guard.hittime = 30
guard.slidetime = 19
guard.ctrltime = 24
getpower = 0
snap = 60,30
p2stateno=915020
[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; EX JS RageWave
;---------------------------------------------------------------------------
[Statedef 9080]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 30
ctrl = 0
anim = 1080
velset = 2,-5
sprpriority = 2

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time %3= 0
attr = S, SA
damage = ceil(cond(fvar(11) * 35 < 10, 10, fvar(11) * 35)),11
animtype  = Medium
hitflag = AFD
guardflag = HA
pausetime = 4,4
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -3
air.velocity = -4,2.8
fall  = 0
snap = 3,10
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 25*var(2)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 7
y = 11

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
trigger1 =pos y>=0 && vel y>=0
value = 9081
ctrl = 1

; EX JS RageWave (Land)
;---------------------------------------------------------------------------
[Statedef 9081]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
anim = 1081
sprpriority = 2
velset = 2,0

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = time = 0
time = 8    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 90   ;A frequency of 180 shakes the screen rapidly


[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = HA
pausetime = 12,4
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -3
air.velocity = -2,-.8
fall  = 0
snap = 10,-20
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 25*var(2)

[State 0, Projectile]
type = Projectile
trigger1 = time%10=0 && numproj<4
ProjID = 1070
projanim = 1072
projhitanim = 1074
projremanim = 1073
projcancelanim = 1074
projscale = .84,.84
projremove = 1
projremovetime = 19
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 60+time*5,0
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
p2facing = 1
attr = S, SA
damage = ceil(cond(fvar(11) * 70 < 10, 10, fvar(11) * 70)),11
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 23
air.hittime  = 136
down.hittime = 136
ground.velocity = -4,-4
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 25*var(2)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;EX New 5S: Knuckle Duster
[Statedef 9090]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
anim = 1097
sprpriority = 2

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter1"
value = 1
ignorehitpause=1
persistent=1

[State Meter Burn State, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2
value = 0

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 53    ;fv = 10
value = 1
persistent = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 0.4
ignorehitpause = 1

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 64
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

[State -3, Vile Voices]
type = PlaySnd
trigger1 = animelem = 12
value = 1031, (0+(Random%4))

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 13
value = 1, 2

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 1
value = 200, (0+(Random%5))
volumescale=200
[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 9
value = 1000, (0+(Random%3))
volumescale=150

[state 3054]
type = Explod
trigger1 = animelem = 12
anim = 1092
ID = 1092
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.78,0.78
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 12
anim = 1095
ID = 1095
pos = 37,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.68,0.68
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[state 3054]
type = Explod
trigger1 = animelem = 12
anim = 10042
ID = 10042
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 6700
ID = 6700
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.70
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

 [State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 12
time = 15    ;Time to shake screen
ampl = 5     ;Amount to shake
freq = 90   ;A frequency of 180 shakes the screen rapidly

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time = 0
hitonce = 1
attr = S, SA
damage = ceil(cond(fvar(11) *200 < 15, 15, fvar(11) * 200)), 15
hitflag = MAFDP
guardflag = MA
pausetime = 18,18
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
animtype = medium
ground.slidetime = 14
ground.hittime  = ceil(cond(fvar(16) *32 < 9, 9, fvar(16) * 32))
air.hittime  = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
down.hittime = ceil(cond(fvar(16) *40 < 9, 9, fvar(16) * 40))
ground.velocity = -6.6
air.velocity = -2,-4
;air.fall=1
fall.yvelocity = 0
guard.slidetime = 12
guard.hittime = 30
guard.ctrltime = 28
palfx.time = 12
palfx.add = 100, 0,20
forcenofall = 1
envshake.time = 18
envshake.freq = 90
envshake.ampl = 8
getpower = 0


[State 0, Helper]
type = Helper
trigger1 = animelem = 15
helpertype = normal ;player
name = "exwave"
ID = 1093
stateno = 9091
pos = 30,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .7
size.yscale = .8

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;EX Wave
[Statedef 9091]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1093
sprpriority = 2
velset = 3,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = hitdef 
p2facing = 1
trigger1 = time=0
hitonce = 1
attr = A, SP
damage = ceil(cond(root,fvar(11) *27 < 4, 4, root,fvar(11) * 27)), 6
hitflag = MAFD
guardflag = MA
pausetime = 7,7
guard.hittime = 24
guard.ctrltime = 22
ground.slidetime = 14
ground.hittime  = 17
ground.velocity = -5,0
fall.xvelocity = -2
fall.yvelocity = 0
air.velocity = -4,-1
air.hittime = 34
air.fall = 1
sparkno = 3
sparkxy = -20,-20
hitsound   = 5,2
guardsound = 6,2
ground.type =high
animtype = medium
forcenofall = 1
getpower = 0
ground.cornerpush.veloff = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = p2movetype = H
fv = 13
value = 0.25
ignorehitpause = 1

[State 0, VarSet]
type = Mapset
trigger1 = prevstateno !=9091
trigger1 = time = 0
map = "wavetime"
value = 100
[State 0, VarSet]
type = MapAdd
trigger1 = map(wavetime)>0
map = "wavetime"
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno !=9091
v = 20    ;fv = 10
value = 0

[state 0, varset]
type = VarAdd
trigger1 = time=0
trigger1 = prevstateno =9091
v = 20     ;fv = 
value = 1
ignorehitpause=1


[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =SCA,NA,SA,HA,NP,SP,HP
slot = 0
stateno = 9091
time = 1
forceair = 0
[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 9091
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NT,ST,HT
time = -1

[State 0, ChangeState]
type = destroyself
trigger1 = var(20)>2
trigger2 = anim=1094
trigger2 = animtime=0

[State 0, ChangeState]
type = velmul
trigger1 = anim=1094
x = .9

[State 0, ChangeState]
type = Changeanim
triggerall=anim!=1094
trigger1 = map(wavetime)=0
trigger2 = parent,movetype = H
value = 1094

;---------------------------------------------------------------------------
;Install EX 6S: BrawlerRush A
;---------------------------------------------------------------------------
[Statedef 9100]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State EX Limiters]
type = mapset
trigger1 = time=0
map = "EXlimiter6"
value = 1
ignorehitpause=1
persistent=1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9100 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 200, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 25   
value = 1.5; You can make this whatever you want to increase stun scaling per move
ignorehitpause = 1
persistent = 0

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 5
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 32   ;fv = 10
value = 1
persistent = 0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10000 ;Animation of this state
value = 10000
elem = 1

[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = time>0
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 210, (0+(Random%7))
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1007
ID = 1007
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 12
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1006
ID = 1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6600
ID = 6600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0


[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 90 < 15, 15, fvar(11) * 90)),15
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 15,15
sparkno = 2
sparkxy = -10,-40
hitsound   = 5,3
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 29
air.hittime  = 136
down.hittime = 136
ground.velocity = -3
air.velocity = -3,-2.8
fall  = 0
forcenofall = 1
air.fall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
air.cornerpush.veloff = -12
palfx.time = 12
palfx.add = 100, 0,20
guard.hittime = 22
guard.slidetime = 13
guard.ctrltime = 21
getpower = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b" 
trigger2 = command = "holdfwd" && command = "b"  && time> 24
trigger3 = movecontact && command = "holdfwd" && command = "EX" 
trigger4 = command = "holdfwd" && command = "EX"  && time> 24
value = 9101
ctrl = 0

;---------------------------------------------------------------------------
;Install EX 6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 9101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9101 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 6
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30

[State 8000, flash]
type = PalFX
trigger1 = time>0
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10011 ;Animation of this state
value = 10011
elem = 1

[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 4
value = 1001,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 1
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1008
ID = 1008
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 15
removetime = -2
pausemovetime = 0
scale = .98,.98
ontop = 1
sprpriority = 10
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 90 < 15, 15, fvar(11) * 90)),15
animtype  =up
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 90
air.hittime  = 90
ground.velocity = -1.6,-11
air.velocity = -1.6,-10
yaccel = .29
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.velocity = -4
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 16
getpower = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
trigger3 = movecontact && command = "holdfwd" && command = "EX"
trigger4 = command = "holdfwd" && command = "EX"  && time>22
value = 9102
ctrl = 0

;---------------------------------------------------------------------------
;Install EX 6S: BrawlerRush B
;---------------------------------------------------------------------------
[Statedef 91011]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 3   ;fv = 10
value = 1
persistent = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 91011 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 6
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 30

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10011 ;Animation of this state
value = 10011
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 5
value = 9500, 1
channel=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1004
ID = 1011
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 20
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 1
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1008
ID = 1008
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 15
removetime = -2
pausemovetime = 0
scale = .98,.98
ontop = 1
sprpriority = 10
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6700
ID = 6700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6953
ID = 6953
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =0.64,0.64
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 1

[State 410, 2]
type = hitdef 
p2facing = 1
trigger1 = time = 0
attr = S, SA
damage = ceil(cond(fvar(11) * 100 < 15, 15, fvar(11) * 100)),15
animtype  =up
hitflag = MAFD
guardflag = MA
pausetime = 20,20
sparkno = 2
sparkxy = -10,-50
hitsound   = 5,2
guardsound = 6,2
ground.type = high
ground.slidetime = 12
ground.hittime  = 90
air.hittime  = 90
ground.velocity = -1.6,-11
air.velocity = -1.6,-10
yaccel = .29
air.cornerpush.veloff = -16
air.fall = 0
forcenofall = 0
envshake.time = 9
envshake.freq = 90
envshake.ampl = 2
fall.envshake.time = 0
fall.envshake.freq = 0
fall.envshake.ampl = 0
palfx.time = 12
palfx.add = 100, 0,20
guard.velocity = -4
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 16
getpower = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "holdfwd" && command = "b"
trigger2 = command = "holdfwd" && command = "b"  && time>22
value = 9102
ctrl = 0


;---------------------------------------------------------------------------
;Install EX 6S: Charge
[Statedef 9102]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;anim = 1002
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0]
type = MapSet
trigger1 = 1
map = "armor"
value=2
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 20
add = 150,100,0
mul = 256,256,256
sinadd = 150,100,0,30
invertall = 0
color = 256


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9102 ;State of this attack

[State 0, HitOverride]
type = HitOverride
;triggerall = (AnimElemTime (3) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,NP,SP,SA
slot = 0
stateno = 666999 
time = 1
forceair = 0

;[State 0, PalFXWiz]
;type = PalFX
;trigger1 = time = 40
;time = 30
;add = 150,100,0
;mul = 256,256,256
;sinadd = 150,100,0,30
;invertall = 0
;color = 256

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2


[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command !="hold_b"&&command !="hold_EX"
trigger2 = prevstateno = 666999 && command!= "hold_b"&& command!= "hold_EX"
value = 9103

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b" && command!= "hold_EX"
value = 91033

;Install EX 6S: Charge
[Statedef 91022]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= -1000
ctrl = 0
;anim = 1002
sprpriority = 2

[State 8000, Varadd]
type = VarAdd
trigger1 = time = 0
v = 3   ;fv = 10
value = 1
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time =  0
v = 10    ;fv = 10
value = 0

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=1002 ;Animation of this state
value = 1002
elem = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9102 ;State of this attack

[State 0, HitOverride]
type = HitOverride
;triggerall = (AnimElemTime (3) >= 0) && (AnimElemTime (8) < 0)
trigger1 = 1 ;Time is how many ticks the Armor lasts
attr = SCA,NA,NP,SP,SA
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno!=(666999) && time = 0
v = 41    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 41
value = 1
ignorehitpause = 1
;armor end

[State 0, VarAdd]
type = VarAdd
trigger1 = time%3=0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

;EX Effects
[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 6800, 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6950
ID = 6950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6800
ID = 6800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.9,0.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
trans = add1
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 120
ampl = 2


[State 12, ChangeState]
type = ChangeState
triggerall = var(41)=[12,60]
trigger1 = command !="hold_b"&&command !="hold_EX"
trigger2 = prevstateno = 666999 && command!= "hold_b"&&command !="hold_EX"
value = 9303

[State 13, ChangeState]
type = changestate
trigger1 = var(41)>60 || time > 60
trigger2 = var(41)>60 && prevstateno = 666999 && command!= "hold_b"&&command !="hold_EX"
value = 93033
;---------------------------------------------------------------------------
;Install EX 6S: BrawlerRush C
;---------------------------------------------------------------------------
[Statedef 9103]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 9103 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 4
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 50

[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

;Armor
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim!=10033 ;Animation of this state
value = 10033
elem = 1


[State 0, HitOverride]
type = HitOverride
triggerall = var(28)>0
triggerall = movetype != H
trigger1=  1
attr = SCA,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = time = 0
value = 1009, (0+(Random%3))
channel=1


[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 14

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=enemynear,map(armor)=0
trigger1 =!movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 145+var(10)*0.5888 < 15, 15, fvar(11) * 145+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-4
air.velocity = -14,-4.5
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = 0
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=enemynear,map(armor)>0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 145+var(10)*0.5888 < 15, 15, fvar(11) * 145+var(10)*0.5888)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-4
air.velocity = -14,-4.5
fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = 0



[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
;Install EX 6S: BrawlerRush C (charged)
;---------------------------------------------------------------------------
[Statedef 91033]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
facep2 = 1
anim = 10033

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv =13     ;fv = 
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6  ;fv = 10
value = 91033 ;State of this attack
;ignorehitpause = 
;persistent = 

[State 1200, Shake Screen]
type = EnvShake
trigger1 = animelem = 5
time = 4    ;Time to shake screen
ampl = 3     ;Amount to shake
freq = 70

[State 8000, flash]
type = PalFX
trigger1 = 1
add = 40, 30, -40
time=1
ignorehitpause = 1
[State 3120, Train]
type = AfterImage
trigger1 = Time = 0
time = 8
palbright = 40,30,-40
palcontrast = 256,206,206
length = 10
trans = add1
ignorehitpause = 1

[State 0]
type = MapSet
trigger1 = (AnimElemTime (4) < 0)
map = "armor"
value=2
ignorehitpause = 1
persistent = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = (AnimElemTime (4) < 0)
attr = SCA ,NA,SA,NP,SP
slot = 0
stateno = 666999 
time = 1
forceair = 0

[State -3, Angous Voices]
type = PlaySnd
trigger1 = animelem = 3
value = 1002,0
volumescale=150
[State -3, Win Voices] ;Win
type = PlaySnd
trigger1 = time = 0
value = 1009, (0+(Random%3))
channel=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6952
ID = 6952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1.50,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6954
ID = 6952
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
scale =1,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 1005
ID = 1013
pos = 18,18
ontop = 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1009
ID = 1009
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 6
removetime = -2
pausemovetime = 0
scale = .98,.98
sprpriority = 3
removeongethit = 0
ignorehitpause=  0
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 26

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=enemynear,map(armor)=0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 144+var(10)*0.5999 < 20, 20, fvar(11) * 144+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
;guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
p2stateno = 5555
getpower = 0
[State 410, 2]
type = hitdef 
p2facing = 1
triggerall=enemynear,map(armor)>0
trigger1 = !movecontact
attr = S, SA
damage = ceil(cond(fvar(11) * 144+var(10)*0.5999 < 20, 20, fvar(11) * 144+var(10)*0.5999)),13+var(10)*0.5
animtype  = Medium
hitflag = MAFDP
;guardflag = MA
pausetime = 36,36
sparkno = 3
sparkxy = -10,-50
hitsound   = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -14,-6
guard.velocity = -14
air.velocity = -14,-4
;fall.yvelocity = 0
fall  = 1
air.fall = 1
envshake.time = 36
envshake.freq = 120
envshake.ampl = 8
fall.envshake.time = 9
fall.envshake.freq = 10
fall.envshake.ampl = 8
palfx.time = 28
palfx.add = 100, 0,20
guard.hittime = 28
guard.slidetime = 19
guard.ctrltime = 27
getpower = 0




[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8 && movehit
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

